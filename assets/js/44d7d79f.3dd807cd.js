"use strict";(self.webpackChunkauto_route=self.webpackChunkauto_route||[]).push([[737],{1478:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>u});var r=n(5893),a=n(1151);const o={sidebar_position:4},s="Screen tracking for analytics",i={id:"guides/screen-tracking",title:"Screen tracking for analytics",description:"",source:"@site/docs/guides/screen-tracking.mdx",sourceDirName:"guides",slug:"/guides/screen-tracking",permalink:"/react-native-auto-route/docs/guides/screen-tracking",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Deep linking",permalink:"/react-native-auto-route/docs/guides/deep-linking"},next:{title:"State persistence",permalink:"/react-native-auto-route/docs/guides/state-persistence"}},c={},u=[];function p(e){const t={code:"code",h1:"h1",pre:"pre",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"screen-tracking-for-analytics",children:"Screen tracking for analytics"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",metastring:'title="App.tsx"',children:"import React, {useRef} from 'react';\nimport RouterRoot from 'react-native-auto-route';\n\nconst App = () => {\n  const pathnameRef = useRef<string>();\n\n  return (\n    <RouterRoot\n      onStateChange={async state => {\n        const previousPathname = pathnameRef.current;\n        const currentPathname = state?.pathname;\n        if (previousPathname !== currentPathname) {\n          // Save the current path name for later comparison\n          pathnameRef.current = state?.pathname;\n\n          // Replace the line below to add the tracker from a mobile analytics SDK\n          // await trackScreenView(currentPathname);\n        }\n      }}\n      linking={{prefixes: ['autoroute://']}}\n    />\n  );\n};\n\nexport default App;\n\n"})})]})}function d(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>s});var r=n(7294);const a={},o=r.createContext(a);function s(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);